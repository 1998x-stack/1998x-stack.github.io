
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/default.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
  <title>05-random point in triangle</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=STIX+Two+Math&display=swap">
  <link rel="stylesheet" href="../../markdown.css">
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <script src="../../markdown.js"></script>
</head>
<body>
  <div class="container">
    <blockquote>
<p>三角形内部等概率随机选取一个点</p>
</blockquote>
<p>在三角形内部等概率随机选取一个点是一项有趣的几何概率问题。为了确保点在三角形内部均匀分布，我们可以使用重心坐标（Barycentric coordinates）进行采样。这种方法简单且易于实现。</p>
<h3>方法：重心坐标法</h3>
<p>假设我们有一个三角形，其顶点分别为 $A (x_1, y_1)$、$B (x_2, y_2)$、$C (x_3, y_3)$。要在这个三角形内随机选取一个点，我们可以按以下步骤进行：</p>
<ol>
<li>生成两个在区间 $[0, 1]$ 内的随机数 $u$ 和 $v$。</li>
<li>如果 $u + v &gt; 1$，则重新生成 $u$ 和 $v$。</li>
<li>用重心坐标公式计算随机点的坐标：
$$
x = (1 - \sqrt{u}) x_1 + \sqrt{u} (1 - v) x_2 + \sqrt{u} v x_3
$$
$$
y = (1 - \sqrt{u}) y_1 + \sqrt{u} (1 - v) y_2 + \sqrt{u} v y_3
$$</li>
</ol>
<h3>代码实现</h3>
<p>下面是使用Python实现这一方法的代码：</p>
<pre><code class="language-python">import random

def random_point_in_triangle(A, B, C):
    while True:
        u = random.random()
        v = random.random()
        if u + v &lt;= 1:
            break
    
    sqrt_u = u ** 0.5
    one_minus_sqrt_u = 1 - sqrt_u
    one_minus_v = 1 - v
    
    x = one_minus_sqrt_u * A[0] + sqrt_u * one_minus_v * B[0] + sqrt_u * v * C[0]
    y = one_minus_sqrt_u * A[1] + sqrt_u * one_minus_v * B[1] + sqrt_u * v * C[1]
    
    return (x, y)

# 示例使用
A = (0, 0)
B = (1, 0)
C = (0, 1)

# 生成一个随机点
point = random_point_in_triangle(A, B, C)
print(point)
</code></pre>
<h3>解释</h3>
<ol>
<li>
<p><strong>生成随机数</strong>：</p>
<ul>
<li>我们使用 <code>random.random()</code> 生成两个 $[0, 1]$ 之间的随机数 $u$ 和 $v$。</li>
<li>确保 $u + v \leq 1$ 以保证点在三角形内部。如果 $u + v &gt; 1$，则重新生成。</li>
</ul>
</li>
<li>
<p><strong>计算点的坐标</strong>：</p>
<ul>
<li>使用重心坐标公式将随机数 $u$ 和 $v$ 转换为三角形内的随机点的坐标。</li>
</ul>
</li>
</ol>
<h3>优点</h3>
<ul>
<li><strong>均匀分布</strong>：通过重心坐标法生成的点在三角形内是均匀分布的。</li>
<li><strong>简单易实现</strong>：代码实现简洁，计算量小。</li>
</ul>
<h3>参考文献</h3>
<ol>
<li>
<p><strong>GeeksforGeeks - Random point inside a Triangle</strong>：</p>
<ul>
<li>详细介绍了如何在三角形内部随机选点，并提供了多种实现方法。</li>
<li><a href="https://www.geeksforgeeks.org/random-point-inside-a-triangle/">链接</a></li>
</ul>
</li>
<li>
<p><strong>Wikipedia - Barycentric coordinates (mathematics)</strong>：</p>
<ul>
<li>提供了关于重心坐标的详细解释和应用。</li>
<li><a href="https://en.wikipedia.org/wiki/Barycentric_coordinates_(mathematics)">链接</a></li>
</ul>
</li>
</ol>

    <h3>Python 文件</h3>
    <pre><code>对应的 Python 文件不存在。</code></pre>
  </div>
</body>
</html>
  