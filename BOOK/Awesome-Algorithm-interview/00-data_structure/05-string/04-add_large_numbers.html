
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/default.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
  <title>04-add large numbers</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=STIX+Two+Math&display=swap">
  <link rel="stylesheet" href="../../markdown.css">
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <script src="../../markdown.js"></script>
</head>
<body>
  <div class="container">
    <blockquote>
<p>超大数相加</p>
</blockquote>
<p>当处理超大数相加的问题时，普通的数据类型可能无法处理这些数值的存储和计算。为了解决这个问题，可以使用字符串或数组来模拟手动加法过程。以下是实现超大数相加的详细步骤和代码。</p>
<h3>方法：逐位相加</h3>
<ol>
<li>
<p><strong>初始化</strong>：</p>
<ul>
<li>使用两个指针分别指向两个字符串的末尾，表示最低位。</li>
<li>初始化一个变量 <code>carry</code> 用于存储进位。</li>
</ul>
</li>
<li>
<p><strong>逐位相加</strong>：</p>
<ul>
<li>从最低位到最高位，逐位相加，并考虑进位。</li>
<li>每一位的结果存储在结果列表中。</li>
</ul>
</li>
<li>
<p><strong>处理剩余进位</strong>：</p>
<ul>
<li>如果计算结束后还有进位，需要将进位添加到结果列表中。</li>
</ul>
</li>
<li>
<p><strong>反转结果</strong>：</p>
<ul>
<li>因为结果是从最低位开始存储的，需要反转结果列表得到最终结果。</li>
</ul>
</li>
</ol>
<h3>代码实现</h3>
<pre><code class="language-python">def add_large_numbers(num1, num2):
    # 初始化指针和进位
    i, j = len(num1) - 1, len(num2) - 1
    carry = 0
    result = []

    # 逐位相加
    while i &gt;= 0 or j &gt;= 0 or carry:
        n1 = int(num1[i]) if i &gt;= 0 else 0
        n2 = int(num2[j]) if j &gt;= 0 else 0
        total = n1 + n2 + carry
        carry = total // 10
        result.append(total % 10)
        i -= 1
        j -= 1

    # 结果反转并转换为字符串
    return ''.join(map(str, result[::-1]))

# 示例使用
num1 = &quot;123456789123456789&quot;
num2 = &quot;987654321987654321&quot;
print(add_large_numbers(num1, num2))  # 输出: 1111111111111111110
</code></pre>
<h3>解释</h3>
<ol>
<li>
<p><strong>初始化</strong>：</p>
<ul>
<li><code>i</code> 和 <code>j</code> 分别指向 <code>num1</code> 和 <code>num2</code> 的最后一位，初始化 <code>carry</code> 为 0。</li>
</ul>
</li>
<li>
<p><strong>逐位相加</strong>：</p>
<ul>
<li>使用 <code>while</code> 循环遍历两个字符串，从最低位到最高位逐位相加。</li>
<li>每次循环获取当前位的值，如果超出字符串长度则视为 0。</li>
<li>计算当前位的总和 <code>total</code>，更新 <code>carry</code> 和当前位的结果。</li>
</ul>
</li>
<li>
<p><strong>处理剩余进位</strong>：</p>
<ul>
<li>循环结束后，如果 <code>carry</code> 不为 0，需要将 <code>carry</code> 添加到结果列表中。</li>
</ul>
</li>
<li>
<p><strong>结果反转</strong>：</p>
<ul>
<li>因为结果列表中的数字是从最低位到最高位存储的，最后需要反转结果列表并转换为字符串。</li>
</ul>
</li>
</ol>
<h3>复杂度分析</h3>
<ul>
<li><strong>时间复杂度</strong>：O(n)，其中 n 是两个字符串的最大长度。每个位的相加和进位操作都是常数时间复杂度。</li>
<li><strong>空间复杂度</strong>：O(n)，用于存储结果的列表。</li>
</ul>
<h3>参考文献</h3>
<ol>
<li>
<p><strong>LeetCode Discuss - Add Strings</strong>：</p>
<ul>
<li>提供了字符串相加问题的详细解释和解决方案。</li>
<li><a href="https://leetcode.com/problems/add-strings/">LeetCode链接</a></li>
</ul>
</li>
<li>
<p><strong>GeeksforGeeks - Sum of two large numbers</strong>：</p>
<ul>
<li>提供了处理超大数相加的详细解释和代码示例。</li>
<li><a href="https://www.geeksforgeeks.org/sum-of-two-large-numbers/">GeeksforGeeks链接</a></li>
</ul>
</li>
</ol>

    <h3>Python 文件</h3>
    <pre><code>对应的 Python 文件不存在。</code></pre>
  </div>
</body>
</html>
  