
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/default.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
  <title>3.5.2 旋转</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=STIX+Two+Math&display=swap">
  <link rel="stylesheet" href="../../markdown.css">
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <script src="../../markdown.js"></script>
</head>
<body>
  <div class="container">
    <h1>01_3.5.2_旋转</h1>
<pre><code>Lecture: 03._数据结构/3.5_红黑树
Content: 01_3.5.2_旋转
</code></pre>
<h3>3.5.2 旋转</h3>
<h4>旋转的概念</h4>
<p>旋转是红黑树中的一种关键操作，用于维护树的平衡性。旋转操作分为左旋和右旋两种，通过局部调整树的结构，使树保持平衡，从而确保查找、插入和删除操作的高效性。旋转操作在红黑树的插入和删除过程中起到了至关重要的作用。</p>
<h4>左旋和右旋</h4>
<h5>左旋</h5>
<p>左旋操作是将某个节点向左下方移动，使其右子节点上升成为新的父节点。左旋操作的具体步骤如下：</p>
<ol>
<li>假设有一个节点 $x$，其右子节点为 $y$。</li>
<li>将 $y$ 的左子节点 $T2$ 移动为 $x$ 的右子节点。</li>
<li>将 $y$ 设为 $x$ 的父节点，$x$ 成为 $y$ 的左子节点。</li>
</ol>
<p>左旋操作的效果是将树的局部结构进行调整，使得右子树的高度减少，左子树的高度增加，从而维持树的平衡。</p>
<h5>右旋</h5>
<p>右旋操作与左旋操作相反，将某个节点向右下方移动，使其左子节点上升成为新的父节点。右旋操作的具体步骤如下：</p>
<ol>
<li>假设有一个节点 $x$，其左子节点为 $y$。</li>
<li>将 $y$ 的右子节点 $T2$ 移动为 $x$ 的左子节点。</li>
<li>将 $y$ 设为 $x$ 的父节点，$x$ 成为 $y$ 的右子节点。</li>
</ol>
<p>右旋操作的效果是将树的局部结构进行调整，使得左子树的高度减少，右子树的高度增加，从而维持树的平衡。</p>
<h4>旋转操作的应用</h4>
<p>红黑树在执行插入和删除操作时，通过旋转操作来维持树的平衡。具体来说，红黑树在插入和删除节点后，需要进行以下调整：</p>
<ol>
<li>
<p><strong>插入操作后的调整</strong>：</p>
<ul>
<li>新插入的节点初始时总是红色的。</li>
<li>如果插入节点的父节点也是红色的，则违反了红黑树的性质，需要进行调整。</li>
<li>通过旋转和重新着色操作，恢复红黑树的平衡。</li>
</ul>
</li>
<li>
<p><strong>删除操作后的调整</strong>：</p>
<ul>
<li>删除节点可能会破坏红黑树的平衡，需要进行调整。</li>
<li>通过旋转和重新着色操作，确保红黑树的性质不被破坏。</li>
</ul>
</li>
</ol>
<h5>插入后的旋转调整</h5>
<p>当新节点插入后，如果插入的节点和其父节点都是红色的，则需要进行旋转和重新着色来恢复红黑树的平衡。具体步骤如下：</p>
<ol>
<li>
<p>如果插入节点的父节点和叔叔节点都是红色的：</p>
<ul>
<li>将父节点和叔叔节点都重新着色为黑色。</li>
<li>将祖父节点重新着色为红色。</li>
<li>将当前节点指向祖父节点，继续检查。</li>
</ul>
</li>
<li>
<p>如果插入节点的父节点是红色，叔叔节点是黑色或不存在：</p>
<ul>
<li>通过旋转和重新着色来修复红黑树的性质。</li>
</ul>
</li>
</ol>
<h5>删除后的旋转调整</h5>
<p>当删除节点后，可能会导致红黑树的性质被破坏，需要进行旋转和重新着色来恢复平衡。具体步骤如下：</p>
<ol>
<li>如果被删除节点或其子节点是黑色的：
<ul>
<li>通过一系列的旋转和重新着色操作，恢复红黑树的平衡。</li>
</ul>
</li>
</ol>
<h4>旋转的复杂度</h4>
<p>左旋和右旋操作的时间复杂度都是 $O(1)$，因为每次旋转只涉及常数个节点的指针调整和颜色更改。这使得红黑树在执行插入和删除操作时，即使需要多次旋转和重新着色，整体时间复杂度仍然保持在 $O(\log n)$。</p>
<h3>总结</h3>
<p>旋转是红黑树中维护树平衡的关键操作，通过左旋和右旋操作，可以局部调整树的结构，确保树的高度在最坏情况下保持对数级别。红黑树在插入和删除操作后，通过旋转和重新着色来恢复树的平衡，从而保证查找、插入和删除操作的高效性。理解旋转操作的原理和应用，对于掌握红黑树的实现和优化至关重要。</p>

    <h3>Python 文件</h3>
    <pre><code># 01_3.5.2_旋转

"""
Lecture: 03._数据结构/3.5_红黑树
Content: 01_3.5.2_旋转
"""

</code></pre>
  </div>
</body>
</html>
  